
@{
    ViewBag.Title = "Address";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script src="https://www.paypalobjects.com/api/checkout.js"></script>
<div class="container">
    @using (Html.BeginForm("CheckoutwithPaypal", "Cart", FormMethod.Post))
    {
        <div class="form-horizontal">
            <h2>Order Category:</h2>
            @*<div class="form-group">
                    <label class="control-label col-md-2">Choose Category:</label>
                    <div class="col-md-10">
                        <select name="category" id="ddl" style="margin-top:10px; width:280px; height:20px;"
                                onchange="if (this.value == '1') { this.form['address'].style.visibility = 'visible' } else { this.form['address'].style.visibility = 'hidden' };">
                            @foreach (var item in ViewBag.Category)
                            {
                                <option value="@item.OrderCategoryID"> @item.CategoryDesc  </option>
                            }
                        </select>
                    </div>
                </div>*@
            <div class="form-group">
                <label class="control-label col-md-2">Choose the nearest Center:</label>
                <div class="col-md-10">
                    <select name="center" id="ddlCenter" style="margin-top:20px; width:280px; height:20px;">
                        @foreach (var i in ViewBag.Centers)
                        {
                            <option value="@i.CenterID"> @i.CenterAddress </option>
                        }
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-2">Address:</label>
                <div class="col-md-10">
                    <input type="text" class="form-control" name="address" id="address" style="visibility:visible;" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Checkout with PayPal" class="btn btn-success" />
                </div>
            </div>
        </div>
    }
</div>


@*<div id="paypal-button-container"></div>
    @{List<ViewModels.Item> cart = (List<ViewModels.Item>)Session["cart"];*@

@*<script>
    paypal.Button.render({*@

@*env: 'sandbox', // sandbox | production

            // PayPal Client IDs - replace with your own
            // Create a PayPal app: https://developer.paypal.com/developer/applications/create
            client: {
                sandbox:    'AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R',
                production: '<insert production client id>'
            },

            // Show the buyer a 'Pay Now' button in the checkout flow
            commit: true,

            // payment() is called when the button is clicked
            payment: function(data, actions) {

                // Make a call to the REST api to create the payment
                return actions.payment.create({

                    transactions: [
                        {

                            amount: { total: '3.0', currency: 'USD' },
                            description: "The payment transaction description.",
                            item_list: {
                                items: [{
                                    name: "hat",
                                    quantity: "5",
                                    price: "3",
                                    sku: "1"
                                }]

                            }
                        }
                    ]
                     });
            },

            // onAuthorize() is called when the buyer approves the payment
            onAuthorize: function(data, actions) {

                // Make a call to the REST api to execute the payment
                return actions.payment.execute().then(function() {
                    window.alert('Payment Complete!');
                });
            }

        }, '#paypal-button-container');

    </script>
                </div>*@

@*@Html.ActionLink("Pay Direct With Credit Card", "PaymentWithCreditCard", "Paypal")
    @Html.ActionLink("Pay with Paypal Account", "PaymentWithPaypal", "Paypal")*@

